<body>
    <canvas></canvas>
</body>
<script>
const cvs = document.querySelector('canvas')
const ctx = cvs.getContext('2d')
function init(){
    cvs.width=window.innerWidth*devicePixelRatio
    cvs.height=window.innerHeight*devicePixelRatio

}
init()
const fontSize=10 * devicePixelRatio
console.log(fontSize)
ctx.font=`${fontSize}px "Roboto Mono"`
const columnCount = Math.floor(cvs.width / fontSize)
const charIndex = new Array(columnCount).fill(0)
ctx.fillStyle="#fff"

ctx.fillText("hello world",300,300)

function draw(){
    //半透明黑色蒙层
    ctx.fillStyle='rgba(0,0,0,0.1)'
    ctx.fillRect(0,0,cvs.width, cvs.height)
    ctx.fillStyle = "#6BE445"
    // ctx.textAlign='center'
    ctx.textBaseline='top'
    for(let i =0;i<columnCount;i++){
        const text=getRandommChar()
        const x=i*fontSize
        const y=charIndex[i]*fontSize
        ctx.fillText(text,x,y)
        if(y > cvs.height && Math.random() >0.99){
            charIndex[i]=0
        }
        charIndex[i]++;
    }
}

function getRandommChar(){
    const str='0123456789abcdefghijklmnopqrstuvwxyz'
    return str[Math.floor(Math.random()*str.length)]
}
setInterval(()=>{
    draw()
},50)

</script>
<style>
    body{
        padding:0;
        margin: 0;
    }
    canvas{
        display: block;
        width: 100vw;
        height: 100vh;
        background-color: black;
    }    
</style>